<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  

  <title>Adding Search Engines - DO-MS</title>
  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">
    <link rel="shortcut icon" href="https://slavovlab.net/index_files/icons/Slavov-Laboratory.ico">

    <!--
    
      <script>
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'UA-4005755-3', 'http://localhost:4000');
        ga('send', 'pageview');
      </script>
      <script async src="https://www.google-analytics.com/analytics.js"></script>
    
    -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4005755-5"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4005755-5');
    </script>

  
    <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>
  <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/MathJax.js"></script>
  <!--
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Adding Search Engines | DO-MS</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Adding Search Engines" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="DO-MS Documentation Slavov Laboratory" />
<meta property="og:description" content="DO-MS Documentation Slavov Laboratory" />
<link rel="canonical" href="http://localhost:4000/docs/other-search-engines" />
<meta property="og:url" content="http://localhost:4000/docs/other-search-engines" />
<meta property="og:site_name" content="DO-MS" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Adding Search Engines" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"DO-MS Documentation Slavov Laboratory","headline":"Adding Search Engines","url":"http://localhost:4000/docs/other-search-engines"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="http://localhost:4000" class="site-title fs-6 lh-tight">DO-MS</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/" class="navigation-list-link">Home</a>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/getting-started" class="navigation-list-link">Getting Started</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/docs/getting-started-application" class="navigation-list-link">Interactive Application</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/docs/getting-started-command-line" class="navigation-list-link">Command Line</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/docs/DO-MS_examples" class="navigation-list-link">DO-MS Examples</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/automation" class="navigation-list-link">Automating Report Generation</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/build-your-own" class="navigation-list-link">Building Your Own Modules</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/adding-folders" class="navigation-list-link">Adding Input Folders</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="http://localhost:4000/docs/other-search-engines" class="navigation-list-link active">Adding Search Engines</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/hosting-as-server" class="navigation-list-link">Hosting as a Server</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/session-info" class="navigation-list-link">Session Info</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/docs/known-issues" class="navigation-list-link">Known Issues</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/mass-spec/methods" class="navigation-list-link">Related methods</a>
            
          </li>
        
      
    
  </ul>
</nav>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search DO-MS" aria-label="Search DO-MS" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
            <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
              
                <li class="d-inline-block my-0 mr-2"><a href="https://www.biorxiv.org/content/10.1101/512152v1">DO-MS Preprint</a></li>
              
                <li class="d-inline-block my-0 mr-2"><a href="https://pubs.acs.org/doi/10.1021/acs.jproteome.9b00039">JPR Article</a></li>
              
                <li class="d-inline-block my-0 mr-2"><a href="https://github.com/SlavovLab/DO-MS">GitHub Repository</a></li>
              
                <li class="d-inline-block my-0"><a href="http://slavovlab.net">Slavov Lab</a></li>
              
            </ul>
          
        </div>
      </div>
      <div class="main-content">
        
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="integrating-other-search-engines">Integrating Other Search Engines</h1>

<p>This app was designed for and tested for MaxQuant &gt;= 1.6.0.16. Much of the code is designed around the specific outputs from MaxQuant, such as the column names of the text output files, and the names of the files themselves (<code class="highlighter-rouge">evidence.txt</code>, <code class="highlighter-rouge">allPeptides.txt</code>, etc). In addition, the modules for this app are designed to take advantage of the features of MaxQuant outputs, such as the full-width at half-maximum of elution peaks outputted when selecting the “Calculate peak properties” option.</p>

<h2 id="backwards-compatibility">Backwards Compatibility</h2>

<p>We are aware that older versions of MaxQuant have different column headers for some of the outputs. We provide an editable list of column “aliases” (in <code class="highlighter-rouge">settings.yaml</code>) where users can map their column names to the ones used in DO-MS. For example, DO-MS references the raw file column with <code class="highlighter-rouge">Raw.file</code>. If your data has <code class="highlighter-rouge">Rawfile</code> instead, this can be mapped:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">aliases</span><span class="pi">:</span>
  <span class="s1">'</span><span class="s">Raw.file'</span><span class="err">:</span>
    <span class="pi">-</span> <span class="s">Rawfile</span>
</code></pre></div></div>

<p><strong>If you come across any discrepancies, please let the authors know by opening a GitHub issue.</strong> We want this software to be as smooth as possible, and would like to build in backwards-compatibility into the app.</p>

<h2 id="other-search-engines">Other search engines</h2>

<p>Adapting the core module technology of this application to the output of other search engines can conceptually be carried out in two ways:</p>

<h3 id="option-1-convert-output-into-maxquant-like-files">Option 1: Convert output into MaxQuant-like files</h3>

<p>If you like the current modules and would like to keep their current display and features, the quickest strategy is to convert your search engine’s output into tab-delimited text that shares the same structure (i.e., column names) as MaxQuant’s output. This can be done via. our column aliasing system as mentioned above, with a third-party converter, or your own.</p>

<p>Our application mainly uses six tab-delimited files from MaxQuant (for non-DIA searches):</p>

<ol>
  <li><code class="highlighter-rouge">allPeptides</code>, which describes ions on the MS1 level</li>
  <li><code class="highlighter-rouge">msmsScans</code>, which describes MS2 scans</li>
  <li><code class="highlighter-rouge">msms</code>, which describes PSMs</li>
  <li><code class="highlighter-rouge">evidence</code>, which describes peptide-level data (combined PSMs)</li>
  <li><code class="highlighter-rouge">parameters</code>, which describes MaxQuant search parameters</li>
  <li><code class="highlighter-rouge">summary</code>, which summarizes search results per experiment</li>
</ol>

<p>These files are defined in <code class="highlighter-rouge">settings.yaml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">input_files</span><span class="pi">:</span>
  <span class="na">evidence</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">evidence'</span>
    <span class="na">file</span><span class="pi">:</span> <span class="s1">'</span><span class="s">evidence.txt'</span>
    <span class="na">help</span><span class="pi">:</span> <span class="s1">'</span><span class="s">MaxQuant</span><span class="nv"> </span><span class="s">evidence.txt</span><span class="nv"> </span><span class="s">file'</span>
    <span class="na">default_enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">msms</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">msms'</span>
    <span class="na">file</span><span class="pi">:</span> <span class="s1">'</span><span class="s">msms.txt'</span>
    <span class="na">help</span><span class="pi">:</span> <span class="s1">'</span><span class="s">MaxQuant</span><span class="nv"> </span><span class="s">msms.txt</span><span class="nv"> </span><span class="s">file'</span>
    <span class="na">default_enabled</span><span class="pi">:</span> <span class="no">true</span>
<span class="nn">...</span>
</code></pre></div></div>

<p>The base set of DO-MS modules reference MaxQuant files. As other search engines/pipelines have analogous files these definitions could be changed to accommodate that. Note that the column names also have to be taken into account.</p>

<h3 id="option-2-rewrite-modules">Option 2: Rewrite Modules</h3>

<p>Very little of the static, server code is dependent on the MaxQuant names. The core dependencies are:</p>

<ol>
  <li>In <code class="highlighter-rouge">server.R</code>, much of the design around selecting, filtering on, and renaming raw files are hard-coded to recognize the “Raw.file” column of MaxQuant output. Simply ensure that your search engine output is outputting the raw file name in each file (most should), and then change the specific “Raw.file” reference in the server code.</li>
  <li>In <code class="highlighter-rouge">global.R</code>, the four files as described in Option 1 above are hardcoded into a list that is then displayed on the import page and available to all of the modules. Simply change the definitions here to the files you want to load from your search engine. There is no limit here, and the only restriction is, as described in point 1, the presence of a raw file column in the text file.</li>
</ol>

<p>All of the modules provided in the application here reference column names from MaxQuant output files and expect data in the form provided by MaxQuant. For other search engines, the column references may need to just be renamed, but for others they may need a major overhaul.</p>

<h3 id="option-3-write-your-own-recommended">Option 3: Write Your Own (recommended)</h3>

<p>If the base set of DO-MS modules is not useful to your analysis anyways (metabolomics, direct infusion, or other MS-related experiments), then you can simply write your own modules around your own data. See the <a href="/docs/build-your-own">building your own modules</a> page for more details.</p>

<h2 id="help">Help!</h2>

<p>For assistance on performing the above points, please open an issue on our <a href="https://github.com/SlavovLab/DO-MS/issues">GitHub issues page</a> to directly contact the developers.</p>


          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
